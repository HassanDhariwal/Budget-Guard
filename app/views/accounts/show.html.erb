<%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true%>
<%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>


<body style="background-image: url('https://cdn.pixabay.com/photo/2017/09/05/10/08/office-2717014_960_720.jpg');background-repeat:no-repeat;background-size: cover">

<div class="container">
  <div class="row">

    <div class="col-sm">
      <div class="card">
        <div class="card-header bg-danger">Add Record</div>
        <div class="card-body">
          <%= link_to "+ Add Single Recode", new_recode_path,class:'actions btn btn-outline-dark' %>
          <br>
          <br>
          <h3>Import Recode</h3>
          <%= form_tag import_accounts_path, multipart: true do %>
            <%= file_field_tag :file  %>
            <%= hidden_field_tag :account_id,@account.id %><br><br>
            <button type="submit" class='actions btn btn-outline-dark'> +Import </button>
          <% end %>
        </div>
      </div>
    </div>

    <div class="col-sm">
      <div class="card">
        <div class="card-header bg-info">Account details</div>
        <div class="card-body">

          <div class="row">
          <div class="col">
            <h5>Name: </h5>
          </div>
          <div class="col">
            <h8> <%= @account.name%></h8>
          </div>
        </div>

          <div class="row">
            <div class="col">
              <h5>Account Type: </h5>
            </div>
            <div class="col">
              <h8>  <%= @account.account_type%></h8>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <h4>Amount:  </h4>
            </div>
            <div class="col">
              <h8> <%= @account.amount%></h8>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <h4>Name: </h4>
            </div>
            <div class="col">
              <h8> <%= @account.name%></h8>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <h4>currency: </h4>
            </div>
            <div class="col">
              <h8> <%= @account.currency%></h8>
            </div>
          </div>

        </div>
      </div>

    </div>

    <div class="col-sm">
      <div class="card">
        <div class="card-header bg-success">Balance details</div>
        <div class="card-body">

          <div class="row">
            <div class="col">
              <h5>Account_balance: </h5>
            </div>
            <div class="col">
              <h8> <%= @account_balance%></h8>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <h5>starting_balacne: </h5>
            </div>
            <div class="col">
              <h8> <%= @account.amount%></h8>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <h5>income: </h5>
            </div>
            <div class="col">
              <h8>  <%= @credit_amount%></h8>
            </div>
          </div>

          <div class="row">
            <div class="col">
              <h5>expence: </h5>
            </div>
            <div class="col">
              <h8> <%= @debit_amount%></h8>
            </div>
          </div>
        </div>
      </div>

    </div>

  </div>
</div>


a





<h3 style="color: black"></h3>






      <h3>Account Recodes</h3>

<table class="table table-success">
  <thead class="table-dark">
  <tr>
    <th scope="col">ID</th>
    <th scope="col">Account</th>
    <th scope="col">Recode_type</th>
    <th scope="col">Amount</th>
    <th scope="col">Date Time</th>
    <th scope="col">Category</th>
    <th scope="col">Note</th>
    <th scope="col">Action</th>
  </tr>
  </thead>
  <% unless  @recodes.blank? %>
  <% @recodes.each do |recode| %>
    <div class="field">
      <!--    <#= link_to account.name, account %>-->
      <!--    #how to link href  -->
      <tbody>
      <tr>
        <td scope="row"><%= recode.id  %></td>
        <td><%= recode.account.name %></td>
        <td><%= recode.recode_type %></td>
        <td><%= recode.amount %></td>
        <td><%= recode.date_time&.strftime('%B %e at %l:%M %p')%></td>
        <td><%= recode.category_id   %></td>
        <td><%= recode.note %></td>

        <!--      here we define account.id and bacause this provide to edit and delete -->
        <td>
          <%= link_to "Show", recode_path(recode.id), class: "btn btn-success" %>
          <%= link_to "Edit", edit_recode_path(recode.id), class: "btn btn-primary" %>
          <%= link_to "Delete", recode_path(recode.id), class: "btn btn-danger" ,data: {
              turbo_method: :delete, turbo_confirm: "Are you sure?"}, :method => :delete %>
        </td>
      </tr>
      </tbody>
    </div>
  <% end %>
  <% end %>
  </table>
</body>



